<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>5 Deploy RTutor Problem Set as a Package on Github • RTutor</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="5 Deploy RTutor Problem Set as a Package on Github">
<meta property="og:description" content="RTutor">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RTutor</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2020.8.11</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Manuals</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/skranz/RTutor">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="05_Deploy%20Problem%20Sets%20as%20Package%20on%20Github_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>5 Deploy RTutor Problem Set as a Package on Github</h1>
            
      
      
      <div class="hidden name"><code>05_Deploy Problem Sets as Package on Github.Rmd</code></div>

    </div>

    
    
<div id="ways-to-distribute-a-rtutor-problem-set" class="section level2">
<h2 class="hasAnchor">
<a href="#ways-to-distribute-a-rtutor-problem-set" class="anchor"></a>Ways to distribute a RTutor problem set</h2>
<p>Once you have created and tested one or several RTutor problem sets, you want to distribute them to users. There are different ways for doing so.</p>
<ol style="list-style-type: decimal">
<li><p>Just provide the users a zip file that contains the .rps, and for RMarkdown based problem sets the .rmd file, as well as needed data sets. Let users manually extract those files in their working directory. It can also be nice to put everything into a folder to which you add a RStudio project file, and then zip the folder.</p></li>
<li><p>Create an R package that contains one or more problem sets (including supplementary data) and host it on Github or CRAN.</p></li>
<li><p>Host the problem set directly in the web using shinyapps.io or another web server that runs shiny server.</p></li>
</ol>
<p>This vignette describes the second option.</p>
</div>
<div id="creating-an-r-package-for-your-problem-set" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-an-r-package-for-your-problem-set" class="anchor"></a>Creating an R package for your problem set</h2>
<p>This process describes how to create an R package for your problem set. Currently the infrastructure is designed for Shiny-based problem sets, but it can also be extended to RMarkdown-based problem sets.</p>
<div id="step-1-create-package-skeleton-with-rtutor-package-skel" class="section level3">
<h3 class="hasAnchor">
<a href="#step-1-create-package-skeleton-with-rtutor-package-skel" class="anchor"></a>Step 1 Create package skeleton with <code>rtutor.package.skel</code>
</h3>
<p>The RTutor package has a function <code>rtutor.package.skel</code> that creates a package skeleton for a problem set package. You first need to call <code>create.ps</code> to create all problem set files from your solution files. Here is an example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
  <span class="co"># Working folder that contains your solution file</span>
  <span class="fu"><a href="https://rdrr.io/r/base/getwd.html">setwd</a></span>(<span class="st">"D:/libraries/RTutor/examples"</span>)

  <span class="co"># First generate your problem set in the usual manner</span>
  <span class="kw">ps.name</span> <span class="op">=</span> <span class="st">"Example"</span>; <span class="kw">sol.file</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="kw">ps.name</span>,<span class="st">"_sol.Rmd"</span>)
  <span class="kw">libs</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>() <span class="co"># character vector of all packages you load in the problem set</span>
  <span class="fu"><a href="../reference/create.ps.html">create.ps</a></span>(sol.file=<span class="kw">sol.file</span>, ps.name=<span class="kw">ps.name</span>, user.name=<span class="kw">NULL</span>,libs=<span class="kw">libs</span>, stop.when.finished=<span class="fl">FALSE</span>)

  <span class="co"># This function creates a skeleton for your problem set package</span>
  <span class="fu"><a href="../reference/rtutor.package.skel.html">rtutor.package.skel</a></span>(sol.file=<span class="kw">sol.file</span>, ps.name=<span class="kw">ps.name</span>,libs=<span class="kw">libs</span>,
    pkg.name=<span class="st">"RTutorExample"</span>,   <span class="co"># Name of the problem set package</span>
    pkg.parent.dir = <span class="st">"D:/libraries/RTutorExample"</span>, <span class="co"># Parent directory </span>
    author=<span class="st">"Sebastian Kranz"</span>, <span class="co"># Your name</span>
    github.user=<span class="st">"skranz"</span>,     <span class="co"># Your github user name</span>
    extra.code.file=<span class="kw">NULL</span>, <span class="co"># name of extra.code.file</span>
    var.txt.file=<span class="kw">NULL</span>,    <span class="co"># name of var.txt.file</span>
    overwrite=<span class="fl">FALSE</span>  <span class="co"># Do you want to override if package directory exists?</span>
  )
</pre></div>
<p>The call to <code>rtutor.package.skel</code> creates a package folder with your package name below the specified pkg.parent.dir folder. In your example above, the created package folder would be</p>
<p><code>D:/libraries/RTutorExample/RTutorExample</code></p>
<p>(Note: I personally often find it convenient to put the package as a subfolder of a folder with the same name. This allows me to store in the parent directory, here <code>D:/libraries/RTutorExample/</code>, files that I locally use, e.g. for testing something out, but that shall not be part of the Github project.)</p>
<div id="choosing-a-package-name" class="section level4">
<h4 class="hasAnchor">
<a href="#choosing-a-package-name" class="anchor"></a>Choosing a Package Name</h4>
<p>It would be good to have a package name of the Form “RTutorXXX”. To quickly identify RTutor problem set packages. <strong>Please don’t use any special characters, nor spaces in your package name.</strong> If your name consists of words, use the Camel case conventiton to separate them, e.g. “RTutorBankRuns”. Don’t choose a package name that is too long.</p>
</div>
</div>
<div id="step-2-create-an-rstudio-package-project-for-the-created-folder-" class="section level3">
<h3 class="hasAnchor">
<a href="#step-2-create-an-rstudio-package-project-for-the-created-folder-" class="anchor"></a>Step 2 Create an RStudio Package Project for the created folder.</h3>
<p>Now create in RStudio a new package project for your folder using the menus:</p>
<p>File -&gt; New Project … -&gt; Existing Directory</p>
<p>Chose as project folder your package folder, e.g. in our example, we would choose the folder <code>D:/libraries/RTutorExample/RTutorExample</code>.</p>
<p>See also the description here:</p>
<p><a href="https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio" class="uri">https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio</a></p>
</div>
<div id="step-3-add-data-sets-and-other-files" class="section level3">
<h3 class="hasAnchor">
<a href="#step-3-add-data-sets-and-other-files" class="anchor"></a>Step 3 Add data sets and other files</h3>
<p>If you want to distribute the data sets used in your problem set directly with your problem sets, copy those data sets into the following subfolder of your package folder:</p>
<pre><code>/inst/ps/problemset_name/material/</code></pre>
<p>Also take a look at the /inst/ps/problemset_name folder. It should contain at least the .rps, _sol.rmd file. If your problem set uses an extra.code.file or var.text.file, those files should also be there, to be able to rebuild the .rps file from the solution file.</p>
</div>
<div id="if-you-want-no-open-access-to-the-sample-solution" class="section level3">
<h3 class="hasAnchor">
<a href="#if-you-want-no-open-access-to-the-sample-solution" class="anchor"></a>If you want no open access to the sample solution</h3>
<p>If you want to avoid that students can easily access the solution, you have to remove the _sol.rmd file from the /inst/ps/problemset_name folder. The drawback is that then the problem set cannot be changed or rebuild from source by other researchers. Also make sure that you set the argument <code>rps.has.sol = FALSE</code> in your call to <code>create.ps</code>, since otherwise a sample solution can be created from the .rps file.</p>
</div>
<div id="step-4-update-description-and-readme-md-and-choose-licence" class="section level3">
<h3 class="hasAnchor">
<a href="#step-4-update-description-and-readme-md-and-choose-licence" class="anchor"></a>Step 4 Update DESCRIPTION and README.MD and choose licence</h3>
<p>Edit the file “DESCRIPTION” - generate or update the problem set description / title - check the DATE and possibly update it - check and correct your name and email in the AUTHOR and MAINTAINER fields - check whether you agree with the licences and possibly adapt them - Here is an overview of different types of Creative Commons licenses:</p>
<pre><code>  [https://creativecommons.org/licenses/](https://creativecommons.org/licenses/)</code></pre>
<p>Edit the file “README.MD” - Add a brief description (2-3 lines) of the problem set.</p>
</div>
<div id="step-5-build-the-package-with-rstudio" class="section level3">
<h3 class="hasAnchor">
<a href="#step-5-build-the-package-with-rstudio" class="anchor"></a>Step 5 Build the package with RStudio</h3>
<p>Try to build the package with RStudio with the menu point</p>
<pre><code>Build -&gt; Build and Reload</code></pre>
<ul>
<li>Afterwards check whether you can run the problem set as explained in the README.MD file</li>
</ul>
</div>
<div id="step-6-optionally-add-additional-problem-sets-in-your-package" class="section level3">
<h3 class="hasAnchor">
<a href="#step-6-optionally-add-additional-problem-sets-in-your-package" class="anchor"></a>Step 6 Optionally add additional problem sets in your package</h3>
<p>A package can contain more than one problem set. Currently <code>rtutor.package.skel</code> only generates a package structure for a single problem set. Adding more problem sets requires manual adaption of the package.</p>
<div id="adapt-package_info-r" class="section level4">
<h4 class="hasAnchor">
<a href="#adapt-package_info-r" class="anchor"></a>6.1 Adapt <code>package_info.r</code>
</h4>
<p>The R folder of your new package contains a file <code>package_info.r</code> that has a content similar as follows:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">ps.pkg.info</span> <span class="op">=</span> <span class="fu">function</span>() {
  <span class="co"># Name of this package</span>
  <span class="kw">package</span> <span class="op">=</span> <span class="st">"RTutorExample"</span>
  
  <span class="co"># Name of problem sets in the package</span>
  <span class="kw">ps</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Example"</span>)
  
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(package=<span class="kw">package</span>, ps = <span class="kw">ps</span>)
}
</pre></div>
<p>If you want to have several problem sets, you must adapt the line <code>ps = c("Example")</code>. Say we want to add a second problem set “Example2”. We then must write</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
  <span class="kw">ps</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"Example"</span>,<span class="st">"Example2"</span>)
</pre></div>
</div>
<div id="create-folder-under-instps-and-copy-files" class="section level4">
<h4 class="hasAnchor">
<a href="#create-folder-under-instps-and-copy-files" class="anchor"></a>6.2 Create folder under inst/ps and copy files</h4>
<p>You manually have to create a folder for your new problem set under inst/ps. For example if we add a problem set <code>Example2</code>, you need to create the folders</p>
<pre><code>./inst/ps/Example2
./inst/ps/Example2/material</code></pre>
<p>In the first folder, you copy your .rps file (and if you like other .rmd files like your solution file). In the material subfolder you copy data sets that your problem set uses.</p>
</div>
<div id="adapt-readme-md" class="section level4">
<h4 class="hasAnchor">
<a href="#adapt-readme-md" class="anchor"></a>6.3 Adapt README.MD</h4>
<p>You finally should adapt the file README.MD to make the user aware of the multiple problem sets. In particular the command <code>run.ps</code> needs to specify the name of the problem set if another than the first problem set shall be run, e.g.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="fu"><a href="../reference/run.ps.html">run.ps</a></span>(user.name=<span class="st">"Jon Doe"</span>, ps.name=<span class="st">"Example2"</span>, package=<span class="st">"RTutorExample"</span>,
       load.sav=<span class="fl">TRUE</span>, sample.solution=<span class="fl">FALSE</span>)
</pre></div>
</div>
</div>
<div id="step-7-updating-problem-sets" class="section level3">
<h3 class="hasAnchor">
<a href="#step-7-updating-problem-sets" class="anchor"></a>Step 7: Updating problem sets</h3>
<p>If you want to update the problem sets in your package, simple copy manually the new files into the problem set folder under /inst/ps. Then build your new package, test it and upload the changes to Github. There is no need to create the whole package with the package skeleton again.</p>
</div>
</div>
<div id="host-your-package-on-github" class="section level2">
<h2 class="hasAnchor">
<a href="#host-your-package-on-github" class="anchor"></a>Host your package on Github</h2>
<ul>
<li>
<p>It is easiest to distribute your package if you host it as an open source project on Github.</p>
<ul>
<li><p>There are different ways to host your package on Github. I just describe the way I use on Windows.</p></li>
<li><p>An alternative way to use Github is described here: <a href="http://r-pkgs.had.co.nz/git.html" class="uri">http://r-pkgs.had.co.nz/git.html</a></p></li>
</ul>
</li>
<li>
<p>Create a user account on Github by signing up here: <a href="https://github.com/" class="uri">https://github.com/</a></p>
<ul>
<li>You can pick a user name that is related to your true name (first name and / or family name), like my user name “skranz” or some anonymous user name. I guess that is a matter of taste. Personally, I find names that link to the true name more convenient, but you can observe both on github.</li>
</ul>
</li>
<li>
<p>If you use Windows install and start Github for Windows as explained here:</p>
<p><a href="https://help.github.com/articles/getting-started-with-github-for-windows/" class="uri">https://help.github.com/articles/getting-started-with-github-for-windows/</a></p>
</li>
<li>
<p>To add your package folder as github repository open github for windows and your windows explorer and drag’n’drop your package folder from the explorer on the left your github for windows window. See</p>
<p><a href="https://help.github.com/categories/github-for-windows/" class="uri">https://help.github.com/categories/github-for-windows/</a></p>
</li>
<li>
<p>After you have created your github project or you have changed it, you can commit your changes and then synchronize your local changes with the Github version. See here:</p>
<p><a href="https://help.github.com/articles/synchronizing-repositories/" class="uri">https://help.github.com/articles/synchronizing-repositories/</a></p>
</li>
<li><p>Check whether you can see your package on the github webpage, as a repository under your username.</p></li>
<li><p>Check whether your package can be installed and run from Github in the way described in the README.md file.</p></li>
</ul>
</div>
<div id="hosting-problem-set-in-the-web-using-shinyapps-io" class="section level2">
<h2 class="hasAnchor">
<a href="#hosting-problem-set-in-the-web-using-shinyapps-io" class="anchor"></a>Hosting problem set in the web using shinyapps.io</h2>
<p>See the separate vignette.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sebastian Kranz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  
<script type="text/javascript">
var sc_project=12051162; 
var sc_invisible=1; 
var sc_security="60139410"; 
</script><script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script><noscript><div class="statcounter"><a title="web statistics" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/12051162/0/60139410/1/" alt="web statistics"></a></div></noscript>

  </body>
</html>
